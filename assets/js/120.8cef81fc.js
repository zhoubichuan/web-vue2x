(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{850:function(A,s,t){"use strict";t.r(s);var a=t(2),n=Object(a.a)({},(function(){var A=this,s=A._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":A.$parent.slotKey}},[s("h1",{attrs:{id:"八-组件发布"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#八-组件发布"}},[A._v("#")]),A._v(" 八.组件发布")]),A._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[A._v("前言")]),A._v(" "),s("p",[A._v("组件写好后，可以通过简单的配置已包的形式发布到 npm 上，用户通过 npm 安装相应的包。")])]),A._v(" "),s("h2",{attrs:{id:"_1-npm-部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-npm-部署"}},[A._v("#")]),A._v(" 1.npm 部署")]),A._v(" "),s("ul",[s("li",[s("p",[s("strong",[A._v("1.注册 npm")])]),A._v(" "),s("p",[A._v("npm 官网注册个账号 https://www.npmjs.com/")])]),A._v(" "),s("li",[s("p",[s("strong",[A._v("2.登录 npm")])])])]),A._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[A._v("npm")]),A._v(" login\n")])]),A._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[A._v("1")]),s("br")])]),s("ul",[s("li",[s("strong",[A._v("3.参数配置")])])]),A._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[A._v("// package.json")]),A._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[A._v('"main"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[A._v(":")]),A._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[A._v('"js/about.48e7d88e.js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[A._v(",")]),A._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[A._v("// 设置入口文件")]),A._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[A._v('"private"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[A._v(":")]),A._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[A._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[A._v(",")]),A._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[A._v("// 设置为公开库")]),A._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[A._v('"keywords"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[A._v(":")]),A._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[A._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[A._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[A._v(",")]),A._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[A._v("// 设置搜索关键词")]),A._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[A._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[A._v(":")]),A._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[A._v('"描述"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[A._v(",")]),A._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[A._v('"author"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[A._v(":")]),A._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[A._v('"zhoubichuan"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[A._v(",")]),A._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[A._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[A._v(":")]),A._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[A._v('"zhoubichuan"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[A._v(",")]),A._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[A._v("// 在 npm 官网上存在相同的名称则会报错无法上传，会提示你没有权限修改此库")]),A._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[A._v('"version"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[A._v(":")]),A._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[A._v('"1.1.0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[A._v(",")]),A._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[A._v("// 版本，每次上传的版本号不能相同，所以每次上传都要手动升级版本号")]),A._v("\n")])]),A._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[A._v("1")]),s("br"),s("span",{staticClass:"line-number"},[A._v("2")]),s("br"),s("span",{staticClass:"line-number"},[A._v("3")]),s("br"),s("span",{staticClass:"line-number"},[A._v("4")]),s("br"),s("span",{staticClass:"line-number"},[A._v("5")]),s("br"),s("span",{staticClass:"line-number"},[A._v("6")]),s("br"),s("span",{staticClass:"line-number"},[A._v("7")]),s("br"),s("span",{staticClass:"line-number"},[A._v("8")]),s("br")])]),s("ul",[s("li",[s("strong",[A._v("4.发布组件")])])]),A._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[A._v("npm")]),A._v(" publish\n")])]),A._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[A._v("1")]),s("br")])]),s("ul",[s("li",[s("strong",[A._v("5.撤销发布的 npm 包")])])]),A._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[A._v("npm")]),A._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[A._v("--force")]),A._v(" unpublish web-vue2x\n")])]),A._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[A._v("1")]),s("br")])]),s("ul",[s("li",[A._v("需要注意的是：\n"),s("ul",[s("li",[A._v("1、撤销 npm 包需要加上 --force 强制执行才可以实现;")]),A._v(" "),s("li",[A._v("2、撤销的包不能立马再次发布")])])])]),A._v(" "),s("h2",{attrs:{id:"_2-内网部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-内网部署"}},[A._v("#")]),A._v(" 2.内网部署")]),A._v(" "),s("div",{staticClass:"language-vue line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[A._v("<")]),A._v("vue-switch")]),A._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[A._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[A._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[A._v('"')]),A._v("data:image/webp;base64,UklGRgQDAABXRUJQVlA4WAoAAAAwAAAAKQAAKQAASUNDUMgBAAAAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADZWUDhMFgEAAC8pQAoQh6CgbRsmu/THeKGhoG0bJh2y8Uf0NwNp24TNv+R/BIKQKRZoggA5H4I13mCPor6TryKUxbuCHwAAAEmSJEeRoylEkf//LatmqFXXiP4rcNtGOWZM9wgAAAAAAAAAAFweh6m4TR7bqdBJb+ey3Kayc5KaCpXkPBWuSXZDbjO6wHvYDIV9kusiCd3d3d3d3d3d3d3dneXFd0mSJEmSJEmSJO+uF773RbdQOVZVVVVVVVVVVVVVVVXVGHYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAN9kVVYxvJrj8xLDr6E5yfAK/d/XM/wn6X/Mqr0bwLFvf19gKtyTk7EFnoP/U+kA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[A._v('"')])]),A._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[A._v("@select")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[A._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[A._v('"')]),A._v("handleSwitch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[A._v('"')])]),A._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[A._v("/>")])]),A._v("\n")])]),A._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[A._v("1")]),s("br")])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[A._v("总结")]),A._v(" "),s("p",[A._v("可以看到组件发布其实挺简单的，主要是要把 package 里面配置好。同理可以在内网发布相关的包文件。")])])])}),[],!1,null,null,null);s.default=n.exports}}]);